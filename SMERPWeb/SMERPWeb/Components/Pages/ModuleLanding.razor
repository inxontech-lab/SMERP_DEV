@page "/module-landing"
@rendermode InteractiveServer

@layout Layout.PlainLayout

<PageTitle>Modules</PageTitle>

<div class="module-landing-page">
    <div class="module-landing-header">
        <div class="module-landing-heading-row">
            <h1 class="workspace-welcome">Welcome! to Inxon 360</h1>
            <img src="images/inxon-logo.png" alt="Inxon logo" class="workspace-header-logo" />
        </div>
        <h2>Select a module</h2>
        <p>Choose a workspace to load tenant-specific navigation.</p>
    </div>

    @if (IsLoading)
    {
        <RadzenProgressBarCircular Mode="ProgressBarMode.Indeterminate" />
    }
    else if (!string.IsNullOrWhiteSpace(ErrorMessage))
    {
        <RadzenAlert AlertStyle="AlertStyle.Warning">@ErrorMessage</RadzenAlert>
    }
    else if (Modules.Count == 0)
    {
        <RadzenAlert AlertStyle="AlertStyle.Info">No modules are currently available for your account.</RadzenAlert>
    }
    else
    {
        <div class="module-card-grid">
            @foreach (var module in Modules)
            {
                <article class="module-card">
                    <div class="module-card-media" aria-hidden="true">
                        <div class="module-card-orb"></div>
                        <RadzenIcon Icon="@module.Icon" class="module-card-watermark" />
                        <div class="module-card-chip">
                            <RadzenIcon Icon="@module.Icon" class="module-card-chip-icon" />
                            <span>@module.Name</span>
                        </div>
                    </div>

                    <div class="module-card-body">
                        <h3 class="module-card-title">@module.Name</h3>
                        <p class="module-card-description">@module.Description</p>

                        <button type="button"
                                class="module-card-cta"
                                @onclick="() => SelectModule(module)">
                            <span class="module-card-cta-icon">
                                <RadzenIcon Icon="arrow_forward_ios" />
                            </span>
                            <span>Go to @module.Name</span>
                        </button>
                    </div>
                </article>
            }
        </div>
    }
</div>
