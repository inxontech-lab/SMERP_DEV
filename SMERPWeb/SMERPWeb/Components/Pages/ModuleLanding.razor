@page "/module-landing"
@layout Layout.PlainLayout

<PageTitle>Modules</PageTitle>

<div class="module-landing-page">
    <div class="module-landing-header">
        <h1 class="workspace-welcome">Welcome! to Your Workspace</h1>
        <h2>Select a module</h2>
        <p>Choose a workspace to load tenant-specific navigation.</p>
    </div>

    @if (IsLoading)
    {
        <RadzenProgressBarCircular Mode="ProgressBarMode.Indeterminate" />
    }
    else if (!string.IsNullOrWhiteSpace(ErrorMessage))
    {
        <RadzenAlert AlertStyle="AlertStyle.Warning">@ErrorMessage</RadzenAlert>
    }
    else if (Modules.Count == 0)
    {
        <RadzenAlert AlertStyle="AlertStyle.Info">No modules are currently available for your account.</RadzenAlert>
    }
    else
    {
        <div class="module-card-grid">
            @foreach (var module in Modules)
            {
                <RadzenCard class="module-card" Variant="Variant.Flat">
                    <RadzenStack Gap="0.6rem">
                        <div class="module-card-logo">
                            <RadzenIcon Icon="@module.Icon" class="module-card-icon" />
                        </div>
                        <RadzenText Text="@module.Name" class="module-card-title" />
                        <RadzenText Text="@module.Description" class="module-card-description" />
                        <RadzenButton Text="Open"
                                      ButtonStyle="ButtonStyle.Primary"
                                      Click="@(() => SelectModule(module))" />
                    </RadzenStack>
                </RadzenCard>
            }
        </div>
    }
</div>
